#!/bin/bash

check() {
    cmd="$1"

    if eval "$cmd"; then
        echo "ğŸ‘"
    else
        echo -e "â—"
        exit 1
    fi
}

check_build() {
    echo -n "ğŸ” Building..."
    check "make build"
}

check_test() {
    echo -n "ğŸ” Testing..."
    check "make test"
}

set -euo pipefail

check_build
check_test
